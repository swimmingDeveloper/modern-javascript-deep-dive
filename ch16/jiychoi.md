# 프로퍼티 어트리뷰트

## 내부 슬롯과 내부 메서드

- `[[ ]]`으로 감싸진 값들이 내부 슬롯과 내부 메서드
  - `[[ property ]]` 이런 형태로 본 적이 있을 것
- 자바스크립트 엔진 내에서의 구현 방식을 설명하기 위한 pseudo 프로퍼티 & 메서드라고 한다
- 일부 내부 슬롯 / 내부 메서드를 제외하곤 코드 내에서 직접 접근이나 호출이 불가능하다
  - 간접적으로 접근 가능한 프로퍼티로 `[[ Prototype ]]` (`__proto__` 이용) 가 있다

## 프로퍼티 어트리뷰트와 프로퍼티 디스크립터 객체

- 어떠한 객체에 프로퍼티를 추가할 때, 사실 우리도 모르는 사이에 자바스크립트 엔진에서 관리하는 내부 상태값들이 추가되고 있다
- 이러한 상태값들은 직접 접근할 수는 없지만, `getOwnPropertyDescriptor` 메서드를 호출하여 간접적으로 확인할 수 있다
  - 메서드의 첫 번째 인자는 프로퍼티를 확인하고자 하는 객체의 참조, 두 번째 인자는 프로퍼티의 키를 전달하면 된다
  - 반환값은 어트리뷰트 정보를 나타내는 프로퍼티 디스크립터이다

## 데이터 프로퍼티와 접근자 프로퍼티

### 데이터 프로퍼티

- 실질적으로 키 - 값 쌍으로 구성된 프로퍼티
  - `[[ value ]]` : 해당 프로퍼티의 값
  - `[[ Writable ]]` : 프로퍼티 값이 변경가능한지 (`boolean`)
  - `[[ Enumerable ]]` : 프로퍼티 값이 열거가능한지 (`boolean`)
    - 열거 가능하다 = 해당 프로퍼티 키를 `for … in` 또는 `Object.keys` 로 호출 가능하다
  - `[[ Configurable ]]` : 프로퍼티 값이 재정의 가능한지 (`boolean`)
    - 재정의 가능하다 = 프로퍼티를 삭제하거나, 값을 변경할 수 있다

### 접근자 프로퍼티

- 자체적으로는 값을 갖지 않는 대신, 다른 데이터 프로퍼티에 접근 (읽거나 쓰기) 하기 위해 사용하는 함수 형태의 프로퍼티
  - `[[ Get ]]` : Getter 함수
    - 데이터 프로퍼티의 값을 읽어들일 때 사용한다
  - `[[ Set ]]` : Setter 함수
    - 데이터 프로퍼티의 값을 저장할 때 사용한다
  - `[[ Enumerable ]]` : 데이터 프로퍼티의 `[[ Enumerable ]]` 과 동일
  - `[[ Configurable ]]` : 데이터 프로퍼티의 `[[ Configurable ]]` 과 동일

## 프로퍼티 정의

- `Object.defineProperty` 메서드를 이용하여 위의 프로퍼티들을 하나하나 설정해줄 수 있다

## 객체 변경 막기

### Object.preventExtensions

- 객체 확장 금지: 프로퍼티의 추가만 불가능하고, 나머지는 모두 가능

### Object.seal

- 객체 밀봉: 프로퍼티의 추가 / 삭제가 불가능하고, 프로퍼티 수정 및 재정의는 가능

### Object.freeze

- 객체 동결: 프로퍼티 추가, 삭제, 재정의 및 수정이 모두 불가능하며, 읽기 전용이 됨
- 객체의 프로퍼티로 존재하는 하위 객체들까지 동결해주진 않는다 (참조만 얼림)
  - 만약 깊은 동결을 원한다면 재귀적으로 동결시켜야 함
